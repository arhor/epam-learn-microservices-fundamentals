plugins {
    id "org.springframework.boot"
    id "io.spring.dependency-management"
    id "org.jetbrains.kotlin.jvm"
    id "org.jetbrains.kotlin.kapt"
    id "org.jetbrains.kotlin.plugin.spring"
}

dependencyManagement {
    imports {
        mavenBom "org.testcontainers:testcontainers-bom:${property('app.version.testcontainers')}"
    }
}

dependencies {
    kapt "org.mapstruct:mapstruct-processor:${property("app.version.mapstruct")}"
    kapt "org.springframework:spring-context-indexer"
    kapt "org.springframework.boot:spring-boot-configuration-processor"

    developmentOnly "org.springframework.boot:spring-boot-devtools"

    compileOnly "org.mapstruct:mapstruct:${property("app.version.mapstruct")}"

    runtimeOnly "org.postgresql:postgresql"

    implementation project(":lib-commons")
    implementation "org.flywaydb:flyway-core"
    implementation "org.springframework.boot:spring-boot-starter-data-jdbc"
    implementation "org.springframework.boot:spring-boot-starter-validation"

    testImplementation "org.testcontainers:junit-jupiter"
    testImplementation "org.testcontainers:postgresql"
}
